var svGlobal={version:"4.8.7",log:1,isMultitask:hi5.browser.isMultitask,util:{},logger:{debug:function(k){if(svGlobal.log>2)console.log(k)},info:function(k){if(svGlobal.log>1)console.log(k)},warn:function(k){if(svGlobal.log>0)console.log(k)}}};function cancelDefault(k){if(k.preventDefault)k.preventDefault();if(k.stopPropagation)k.stopPropagation();return false}
function LocalInterface(k){function O(c){var d=hi5.tool.cumulativePos(c);if(jb)d.y+=c.scrollTop;return d}function q(c){var d=0;var e=0;var a=c.offsetParent;if(a&&a.offsetParent){a=a.offsetParent;d=a.scrollTop;e=a.scrollLeft}c.focus();if(d)a.scrollTop=d;if(e)a.scrollLeft=e}function z(){var c=[];this.sent=0;this.types=[];var d=this;this.datas=c;this.setData=function(e,a){if(e=="text/plain"||e=="text/html"){if(a.length>2&&a.substring(0,3)=="`\t`")a=a.substring(3);a=a.replace(/\r?\n/g,"\r\n")}d.types.push(e);
c.push(a)};this.getData=function(e){var a=c[d.types.indexOf(e)];if(!a&&e=="text/richtext")a=c[d.types.indexOf("text/html")];return a};this.equals=function(c){if(!c)return false;if(!hi5.Arrays.equals(d.types,c.types))return false;var a;var b;var h;var f=d.types;var v=0;for(var t=f.length;v<t;v++){a=f[v];b=d.getData(a);h=c.getData(a);if(b!=h)return false}return true}}function P(c){function d(a){a.focus();if(typeof window.getSelection!="undefined"&&typeof document.createRange!="undefined"){var c=document.createRange();
c.selectNodeContents(a);c.collapse(false);var b=window.getSelection();b.removeAllRanges();b.addRange(c)}else if(typeof document.body.createTextRange!="undefined"){var e=document.body.createTextRange();e.moveToElementText(a);e.collapse(false);e.select()}}function e(){var a=T?c.value:c.innerText||c.textContent;if(g&&!T&&a.charAt(0)!=C.PLACE_HOLDER)a=C.PLACE_HOLDER+a;return a}function a(){if(g)if(T){if(c.setSelectionRange)c.setSelectionRange(c.value.length,c.value.length)}else d(c)}function b(){var c=
g||Q&&H?C.PLACE_HOLDER:"";E=c;C.setValue(c);a()}function h(){setTimeout(b,100)}function f(a){m=a.keyCode==8;if(C.onkeydown)C.onkeydown(a);return true}function v(a){if(C.onkeyup)C.onkeyup(a);var b=a.keyCode;if((T?c.value:c.innerText||c.textContent).length==1||b==13||b==32)h();return true}function t(a){if(C.onkeypress)C.onkeypress(a)}function I(a){if(C.onbackspace)for(var c=0;c<a;c++)C.onbackspace()}function G(a){if(C.disableTextInput)return;a.stopPropagation();var d=e();var f=d.length;if(f>1&&d.charAt(0)!=
C.PLACE_HOLDER&&d.charAt(f-1)==C.PLACE_HOLDER){d=C.PLACE_HOLDER+d.substring(0,f-1);C.setValue(d)}if(d==E)return;var v=E.length;var t=d.indexOf(E);if(d&&t===0){d=d.substring(v);if(d.length>0&&k&&C.ontextinput){C.ontextinput({data:d,"target":c});if(d=="."){b();return}}}else{t=E.indexOf(d);if(t===0){if(!m)I(v-f)}else if(k){if(g){v--;d=d.substring(1)}I(v);if(d.length>0&&C.ontextinput)C.ontextinput({data:d,"target":c})}}if(e()==="")h();E=e()}function l(a){if(C.disableTextInput)return;if(!a.data)return;
a.stopPropagation();if(C.ontextinput)C.ontextinput(a);if(n)a.preventDefault()}var C=this;var g=r.isAndroid&&r.isChrome;var k=r.isFirefox||r.isOpera||g;var m=false;var n=!r.isRIM;var E="";var T="INPUT"==c.nodeName||"TEXTAREA"==c.nodeName;var ka="DIV"==c.nodeName;this.PLACE_HOLDER="`";this.setValue=function(a){var b=C.disableTextInput;C.disableTextInput=true;if(T)c.value=a;else if(ka)c.innerHTML=a;C.disableTextInput=b};this.init=b;this.disableTextInput=false;b();c.addEventListener("keydown",f,false);
c.addEventListener("keyup",v,false);c.addEventListener("keypress",t,false);if(k){c.addEventListener("input",G,false);if(g)c.onclick=b;else c.addEventListener("mouseup",b,false)}else{c.addEventListener("textInput",l,false);c.addEventListener("textinput",l,false)}this.release=function(){C=null;c.removeEventListener("keydown",f,false);c.removeEventListener("keyup",v,false);c.removeEventListener("input",G,false);c.removeEventListener("focus",b,false);c=null};this.select=function(){x(c)}}function A(c,
d,e){function a(a){var c=0;var e=0;var I=0;var G=Da(a);if("wheelDelta"in a){I=Date.now();if(I-h>100)b=0;e=a.wheelDelta;if(e!=0){b+=e;c=b/120|0;b=b%120;if(c!==0)d(c,G)}h=I}else{c=-a.detail;if(Math.abs(c)==32768){e=window.innerHeight/40|0;c=c<0?-e:e}d(c,G)}}var b=0;var h=0;c.addEventListener("DOMMouseScroll",a,true);c.addEventListener("mousewheel",a,true)}function Y(c){function d(a){if(h)return;if(f.onmousedown)f.onmousedown(a)}function e(a){if(h)return;if(f.onmousemove)f.onmousemove(a)}function a(a){if(h){h=
false;return}if(f.onmouseup)f.onmouseup(a)}function b(a){var c=a.type;if(c=="touchstart")h=true;if(f.ontouch)f.ontouch(a)}var h=false;var f=this;var v=navigator.pointerEnabled||navigator.msPointerEnabled||false;if("ontouchstart"in window||!v){c.addEventListener("touchstart",b,false);c.addEventListener("touchend",b,false);c.addEventListener("touchmove",b,false);c.addEventListener("touchcancel",b,false);c.addEventListener("mousemove",e,false);c.addEventListener("mousedown",d,false);c.addEventListener("mouseup",
a,false)}else if(navigator.pointerEnabled){c.addEventListener("pointerdown",b,false);c.addEventListener("pointerup",b,false);c.addEventListener("pointermove",b,false);c.addEventListener("pointercancel",b,false)}else if(navigator.msPointerEnabled){c.addEventListener("MSPointerDown",b,false);c.addEventListener("MSPointerUp",b,false);c.addEventListener("MSPointerMove",b,false);c.addEventListener("MSPointerCancel",b,false)}}function M(){if(l.railWin)return true;return!ma&&U<=window.innerWidth&&R<=window.innerHeight}
function xa(c){function d(a){if(a<256)return a;var c=h.indexOf(a);if(c!=-1)return c;h.push(a);return h.length-1}function e(a,c){var b;var e=a.length;var f=new Array(e);for(var h=0;h<e;h++){b=a[h];var l=Ea(b.clientX,b.clientY,m.getElement());f[h]={"contactId":d(b.identifier),"contactFlags":c,"x":l.x,"y":l.y}}return f}function a(a){var c=b.length;for(var e=0;e<c;e++)if(b[e].contactId==a)return e;return-1}var b;var h=[];var f=false;this.handle=function(d){var t=d.type;var I=d.touches;var G;var l;var g=
d.changedTouches;cancelDefault(d);switch(t){case "touchstart":f=false;l=I.length;G=e(I,25);b=G;break;case "touchmove":G=e(g,26);var k=false;if(b.length>0&&G.length==1){var m=a(G[0].contactId);if(m!=-1&&b[m].x==G[0].x&&b[m].y==G[0].y)k=true}if(k)return;else if(b.length>0){c.redirectTouches(b);b.length=0}c.redirectTouches(G);f=true;break;case "touchend":if(!f){c.redirectTouches(b);l=b.length;for(var n=0;n<l;n++)b[n].contactFlags=4;G=b}else G=e(g,4);c.redirectTouches(G);h.length=b.length=0;break;case "touchcancel":c.redirectTouches(e(g,
34));h.length=b.length=0}}}function ga(c){function d(a){var c=a[1].screenX-a[0].screenX;var b=a[1].screenY-a[0].screenY;return Math.sqrt(c*c+b*b)}function e(a){if(a.length!=2)return false;var c=a[1].screenX-a[0].screenX;var b=a[1].screenY-a[0].screenY;return Math.abs(b)>100||Math.abs(c)>350}function a(a){var c=0;var b=0;var e=0;var d=9999;var f=0;for(var h=a.length;f<h;f++){if(a[f].screenY>e){e=a[f].screenY;c=f}if(a[f].screenY<d){d=a[f].screenY;b=f}}return[{screenX:a[b].screenX,screenY:a[b].screenY,
identifier:a[b].identifier},{screenX:a[c].screenX,screenY:a[c].screenY,identifier:a[c].identifier}]}function b(a,c){var b=[];var e=h(a,ca[0].identifier)||h(c,ca[0].identifier);if(e)b.push(e);e=h(a,ca[1].identifier)||h(c,ca[1].identifier);if(e)b.push(e);var f="";if(b.length!=2)return f;var v=d(b)-d(ca);if(Math.abs(v)<60){var E=80;if(b[0].screenX-ca[0].screenX>E)f="RIGHT";else if(ca[0].screenX-b[0].screenX>E)f="LEFT";else if(b[0].screenY-ca[0].screenY>E)f="DOWN";else if(ca[0].screenY-b[0].screenY>E)f=
"UP"}else f=v<0?"CLOSE":"OPEN";return f}function h(a,c){var b=0;for(var e=a.length;b<e;b++)if(a[b].identifier==c)return a[b];return null}function f(a){this.identifier=a.pointerId;this.clientX=a.clientX;this.clientY=a.clientY;this.pageX=a.pageX;this.pageY=a.pageY;this.screenX=a.screenX;this.screenY=a.screenY}var v=0;var t=0;var I=0;var G=0;var l=false;var g=0;var k=0;var n=0;var p=0;var r=false;var E=false;var T=3;var ka=false;if(Q)T*=3;this.delay=false;var ca=[];var q=this;this.handlePointer=function(a){if(a.pointerType==
a.MSPOINTER_TYPE_MOUSE||a.pointerType=="mouse")switch(a.type){case "MSPointerDown":case "pointerdown":Sa(a);break;case "pointermove":case "MSPointerMove":Ta(a);break;case "pointerup":case "MSPointerUp":Ua(a)}else{a.touches=a.changedTouches=[new f(a)];q.handle(a)}};this.handle=function(d){var f=d.type;var q=0;var u=d.touches;var x=d.changedTouches;var A=0;var B=0;var D=0;var z;switch(f){case "touchstart":case "MSPointerDown":case "pointerdown":moveCount=0;moveSpace=0;ka=false;t="touchstart"==f?u.length:
t+1;E=false;G=Date.now();l=t==1&&G-I<200;D=u[0];v=D.identifier;z=Ea(D.clientX,D.clientY,m.getElement());g=z.x|0;k=z.y|0;r=true;ka=e(u);if(l||t>2)cancelDefault(d);if(t==3)ca=a(u);break;case "pointermove":case "MSPointerMove":if(t>1)break;case "touchmove":if(ka)return;if(t==1&&M()){if(!y.disableScoll)window.scrollTo(0,0);cancelDefault(d)}D=x[u.length-1];if(D.identifier!=v){D=h(x,v);if(!D){cancelDefault(d);return}}z=Ea(D.clientX,D.clientY,m.getElement());A=z.x|0;B=z.y|0;if(r){if(A-g===0&&B-k===0)return;
if(Math.abs(A-g)<T&&Math.abs(B-k)<T){cancelDefault(d);return}r=false;q=Date.now()-G;E=q<180;if(E&&!M()&&t==1){ka=true;return}c.touchstart({"x":g,"y":k,"flick":E,"pointes":t,"screenX":D.screenX,"screenY":D.screenY,"moved":true,"target":d.target})}cancelDefault(d);c.touchmove({"x":A,"y":B,"flick":E,"pointes":t,"moved":true,"screenX":D.screenX,"screenY":D.screenY,"target":d.target});break;case "MSPointerUp":case "touchend":case "pointerup":if(ka)return;if(x.length+u.length==3){c.touchend({"x":A,"y":B,
"flick":E,"pointes":t,"moved":!r,"target":d.target,"gesture":b(u,x)});t=0;break}else{if(t>2){t=0;break}D=h(x,v);if(D){var F=Date.now();z=Ea(D.clientX,D.clientY,m.getElement());A=z.x|0;B=z.y|0;if(!E){q=F-G;if(r){I=F;if(!l){n=A;p=B}else cancelDefault(d);if(q<500){I=F;c.touchstart({"x":n,"y":p,"flick":false,"pointes":t,"screenX":D.screenX,"screenY":D.screenY,"moved":false,"target":d.target});c.touchend({"x":n,"y":p,"flick":false,"pointes":t,"moved":false,"screenX":D.screenX,"screenY":D.screenY,"target":d.target})}else c.longpress({"x":A,
"y":B,"flick":false,"pointes":t,"moved":false,"screenX":D.screenX,"screenY":D.screenY,"target":d.target})}else c.touchend({"x":A,"y":B,"flick":false,"pointes":t,"moved":true,"screenX":D.screenX,"screenY":D.screenY,"target":d.target})}else c.touchend({"x":A,"y":B,"flick":true,"pointes":t,"moved":!r,"screenX":D.screenX,"screenY":D.screenY,"target":d.target})}}t=0;break;case "MSPointerCancel":case "touchcancel":t=0}if(l)cancelDefault(d)}}function ra(){n(true,14);n(false,14)}function x(c){try{if(c.select)c.select();
else r.selectEditable(c)}catch(d){svGlobal.logger.info(d)}}function mc(c,d){if(c.value)c.value=d;else c.innerHTML=d}function kb(){function c(){b.focus()}function d(a,b){var d=document.createElement("a");d.href="#";d.accessKey=a;d.onfocus=c;d.style.position="absolute";d.style.width=1;d.style.height=1;d.style.left=0;d.style.top=b+"px";return d}var e=r.isIE;var a=document.createElement(e?"textarea":"div");var b=this;this.setFontSize=function(c){a.style.fontSize=y.inputFontSize||c};if(e){a.style.opacity=
0;a.readOnly=H&&r.isMetro?true:false}else a.contentEditable=H&&!(r.isChrome&&(r.isWindows||r.isCrOS))?false:true;a.accessKey="f";a.id="wsinput";a.tabIndex=1;a.style.opacity=0;a.style.resize="none";a.style.position="absolute";a.style.margin="0";a.style.border="none";a.style.outline="none";var h=hi5.tool.getPos(k,true);a.style.left=h.x+"px";a.style.top=h.y+"px";a.style.paddingRight=0;a.style.paddingBottom=0;a.style.width="10px";a.style.height="10px";a.style.zIndex=88;a.style.cursor="default";a.style.fontWeight=
"normal";a.style.fonStyle="normal";a.style.overflow="hidden";F=new P(a);F.onbackspace=ra;var f=k.parentNode;f.appendChild(a);if(Q){f.appendChild(d("E"),60);f.appendChild(d("V"),61);f.appendChild(d("A"),62);f.appendChild(d("T"),63);f.appendChild(d("H"),64)}var v=a.style.opacity;var t=a.style.textIndent;this.resetCSS=function(){_fontSize=a.style.fontSize;v=a.style.opacity;a.style.opacity=0;a.style.textIndent=0};this.restoreCSS=function(){a.style.opacity=v;a.style.textIndent=t};this.getValue=function(){return e?
a.value:a.innerHTML};this.setValue=function(c){if(F)F.disableTextInput=true;if(e)a.value=c;else a.innerHTML=c;if(F)F.disableTextInput=false};this.focus=function(){b.setValue(" ");q(a)};this.setContentEditable=function(c){if(e){var b=c=="true";if(a.readOnly==b)a.readOnly=!b}else if(a.contentEditable!=c){a.contentEditable=c;if(c=="true"&&Q)r.selectEditable(a)}};this.isIMEMode=false;this.setIMEStatus=function(c){if(c){if(!b.isIMEMode){if(e){a.style.background="transparent";a.style.opacity=1}b.isIMEMode=
true}}else if(b.isIMEMode){if(e){a.style.background="";a.style.opacity=0}b.isIMEMode=false}};this.adjust=function(c){var d=hi5.tool.getPos(k,true);var e=l.railWin?Math.min(window.innerWidth-d.x,U):U;var f=l.railWin?Math.min(window.innerHeight-d.y,R):R;var h=Math.min(window.innerWidth-d.x,U);var v=Math.min(window.innerHeight-d.y,R);var t=Math.round(h*.7);var g=Math.round(v*(c?.99:.7));var E=e-t;var T=f-g;if(y.disableAdjust){t=0;g=0;E=k.offsetWidth+"px";T=k.offsetHeight+"px"}a.style.width=E+"px";a.style.height=
T+"px";a.style.paddingLeft=t+"px";a.style.paddingTop=g+"px";a.style.left=d.x+"px";a.style.top=d.y+"px";a.style.textIndent=-(t+(Q?48:0))+"px";if(r.isFirefox)a.style.fontSize=0;if(H&&r.isChrome)b.setFontSize("2em");if(!y.disableScoll)window.scrollTo(0,0)};this.remove=function(){if(a.parentNode)a.parentNode.removeChild(a)};this.hide=function(){a.style.visibility="hidden"};this.getElement=function(){return a};this.select=function(){x(a)}}function Wb(){var c=window.innerWidth;var d=window.innerHeight;
return Math.max(U,R)<Math.max(c,d)&&Math.min(U,R)<Math.min(c,d)}function Fa(){if(g)return;var c=k.parentNode;g=c.querySelector('canvas[name="svImgCursor"]');if(g)return;g=document.createElement("canvas");g.name="svImgCursor";g.style.position="absolute";g.style.left=90;g.style.top=90;g.scrX=0;g.scrY=0;g.hotX=10;g.hotY=10;g.width=g.height=32;if("ontouchstart"in window){g.addEventListener("touchstart",V,false);g.addEventListener("touchend",V,false);g.addEventListener("touchmove",V,false);g.addEventListener("touchcancel",
V,false)}else if(navigator.pointerEnabled){g.addEventListener("pointerdown",V,false);g.addEventListener("pointerup",V,false);g.addEventListener("pointermove",V,false);g.addEventListener("pointercancel",V,false)}else if(navigator.msPointerEnabled){g.addEventListener("MSPointerDown",V,false);g.addEventListener("MSPointerUp",V,false);g.addEventListener("MSPointerMove",V,false);g.addEventListener("MSPointerCancel",V,false)}g.setCursor=function(c){var a=c.width;var b=c.height;var d=c.rawData;var f=g.getContext("2d");
if(d&&a&&b){var v=a*b;var t=0;var I=0;var l=f.createImageData(a,b);var k=l.data;g.hotX=c.hotX;g.hotY=c.hotY;g.width=a;g.height=b;for(var m=0;m<v;m++){t=d[m];k[I++]=t&255;k[I++]=t>>8&255;k[I++]=t>>16&255;k[I++]=t>>24&255}f.putImageData(l,0,0,0,0,a,b)}else{f.fillStyle="rgba(0,0,0,0)";f.fillRect(0,0,g.width,g.height)}};if(Ga)g.setCursor(Ga);else{var d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,
-1,-1,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-1,-1,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-1,-1,-1,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-1,-1,-1,-1,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-1,-1,-1,-1,-1,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-1,-1,-1,-1,-16777216,-16777216,-16777216,-16777216,-16777216,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-1,-16777216,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-16777216,-16777216,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-16777216,0,0,-16777216,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-16777216,0,0,0,-16777216,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,0,0,0,0,0,-16777216,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];g.setCursor({"rawData":d,"width":32,"height":32})}c.appendChild(g)}function lb(c){if(y.disableScrollbars===false)return;
var d=document.body;if(c){Va=c;d.style.overflow=c;return}var e=U<=window.innerWidth&&R<=window.innerHeight;Va=e?"hidden":"visible";d.style.overflow=Va}function ya(c){var d=k.parentNode;if(Wb()){if(W!=1){hi5.tool.scale(d,1);W=da=1}return}document.body.style.overflow="hidden";W=da=c?Math.min(window.innerWidth/U,window.innerHeight/R):1;hi5.tool.scale(d,W,W)}function mb(){var c=chrome.app.window.current();if(c)c.fullscreen()}function Xb(){if(document&&u){document.removeEventListener("paste",u.onPaste,
false);document.removeEventListener("copy",u.onCopy,false);document.removeEventListener("cut",u.onCopy,false)}if(window){window.removeEventListener("resize",nb,false);window.removeEventListener("beforeunload",ob,false);window.removeEventListener("focus",pb,false);window.removeEventListener("blur",qb,false);window.removeEventListener("unload",Ha,false);if(g&&g.parentNode){g.parentNode.removeChild(g);g=null}if(l&&l.toolbar){l.toolbar.setFadable=null;l.toolbar.startFade=null;l.toolbar=null}try{if(na&&
na.parentNode){na.parentNode.removeChild(na);na=null}if(m)m.remove();m=null}catch(d){}}var c=window;try{for(;true;){c.document.removeEventListener("mouseup",rb,false);if(c.parent==c)break;c=c.parent}}catch(d){}}function sb(c){if(!c)c="div";var d=document.createElement(c);var e=document.body;d.id="_tmpEditable";if(c=="div")d.contentEditable=true;d.style.position="absolute";d.style.zIndex=9999;d.style.left=e.scrollLeft+50+"px";d.style.top=e.scrollTop+50+"px";d.tabIndex=2;d.style.outline="none";d.style.opacity=
0;e.appendChild(d);return d}function pb(c){Wa.clearPDF();l.focused=true;p.onfocus(c);if(p.fromSyncedSurface)ea=p.fromSyncedSurface(1300);else ea=false;if(!ea)p.send("891"+(Z&&Q&&!r.isEdge?1:0));Ia=true;aa.sendMissKey()}function ob(c){var d=__svi18n.remoteApp.close;var e=tb||!l.railWin||!l.railWin.isRunning()||!d;if(e)return;if(!c)c=window.event;if(p.getAppMode()!=2){l.showMessage(d);if(c)c.returnValue=d;return d}}function Ha(c){if(l){l.focused=false;if(l.onunload)l.onunload()}}function Xa(){if(m){m.getElement().oncontextmenu=
function(){return false};if(!Q)m.getElement().onselectstart=function(){return false}}}function ub(){if(m){m.getElement().oncontextmenu=null;m.getElement().onselectstart=null}}function nb(c){if(m)m.adjust();if(sa)ya(true);else{if(ma&&Date.now()-ma<2500)return;var d=r.isWindows&&!r.isMetro;if(!H||d&&!ma)p.onresize(c)}}function qb(){if(l){l.focused=false;l.blurTime=Date.now()}}function Yb(){if(!window.svSurface)window.svSurface=l;window.addEventListener("resize",nb,false);if(ha)return;var c=!r.isChromeApp;
if(c)window.addEventListener("beforeunload",ob,false);if(c)window.addEventListener("unload",Ha,false);else chrome.runtime.onSuspend.addListener(Ha);Xa();window.addEventListener("focus",pb,false);window.addEventListener("blur",qb,false);if(r.isChromeApp)chrome.app.window.current().onMaximized.addListener(mb);var d=hi5.$("saveSession");if(d)d.addEventListener("change",function(c){p.saveSession({save:c.target.checked})})}function nc(c){return c.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function vb(){if(J)return;
var c=hi5.$("touchGesture");if(c)c.style.display="block";var d=hi5.$("extKBD");if(d)d.onchange=function(a){l.setExtKeyboard(a.target.checked)};J=hi5.$("svTouchInput");try{if(window.parent!=window&&!J)J=window.parent.document.getElementById("svTouchInput")}catch(a){}if(!J)return;if(r.isWindows){var e=document.createElement("div");e.contentEditable=true;e.id="svTouchInput";J.parentNode.replaceChild(e,J);J=e}if(r.isChrome)J.style.fontSize="2em";B=new P(J);B.onkeydown=B.onkeyup=wb;B.ontextinput=xb;B.onbackspace=
ra}function oc(){if(!na)return;na.style.display="block";if(Ya)clearTimeout(Ya);Ya=setTimeout(inputTimeout,3E3)}function ta(c,d){function e(a,c){var b=document.createElement("span");b.data_path=a;b.className="path";b.innerHTML=c;b.onclick=function(){ta(this.data_path,d)};return b}function a(a){for(var c=h;c.hasChildNodes();)c.removeChild(c.firstChild);var b=e("/","&nbsp&nbsp&nbsp/");c.appendChild(b);if(a=="/"||a==="")return;var d=a.split("/");var l="/";var g=0;for(var k=d.length;g<k;g++){var m=d[g];
if(m==="")continue;l=l+d[g]+"/";b=e(l,m+"/");c.appendChild(b)}}function b(c){function b(a){if(!a)a=h.getValue("Name");var d=c.parent;if(d===""||d.charAt(d.length-1)!="/")d+="/";d+=a;return d}if(c.error)l.showMessage(__svi18n.file[c.error]);var e=new hi5.DataTable(c);var h=new hi5.DataGrid(hi5.$("filelist"));h.dataTable=e;var g=hi5.tool.bytesToSize;h.beforeDisplayValue=function(a,c){var b=e.cols[a].name;if(b=="Date Modified")return(new Date(c)).toLocaleString();else if(b=="Size")return g(c);else if(b==
"Type"&&"folder"==c)return __svi18n.file.folder;else if(b=="Name")return decodeURIComponent(c);else return c};h.onrowclick=function(a){var e=h.getValue("Name");var t=h.getValue("Type");var l=b(e);var g=a.target.name;if(g=="delete"){L.removeFile(l);ta(c.parent,d);return}if(t=="folder"){var E=c.parent=="/"?"":c.parent;ta(E+"/"+e,d);return}if(g=="view")l+="&action=view";p.getFile(l)};h.beforeAppendRow=function(a){var c;var d=e.getValue(e.getColNo("Type"));if(d=="folder"){c=a.querySelector('img[name="download"]');
if(c)c.style.visibility="hidden";return}a.draggable=true;var f=h.getValue("Name");var l=b(f);l="application/octet-stream:"+f+":"+p.getFileLink(l);a.addEventListener("dragstart",function(a){a.dataTransfer.setData("DownloadURL",l)},false);if(f.length>10&&f.substring(f.length-10)==".uploading"){c=a.querySelector('img[name="download"]');if(c)c.style.visibility="hidden";c=a.querySelector('img[name="view"]');if(c)c.style.visibility="hidden"}};h.open();a(c.parent);var k=document.getElementById("__diskSpace");
if(k)k.innerHTML=hi5.tool.bytesToSize(c.freeSpace)+"/"+hi5.tool.bytesToSize(c.totalSpace);d.resize();d.__position="\\\\tsclient\\"+c.name+c.parent.replace(new RegExp("/","g"),"\\")}var h=hi5.$("parentPath");if(!h.currentDir)h.currentDir="/";if("."==c)c=h.currentDir;else h.currentDir=c;h.currentDir=c;p.getShareFiles(c,b)}function yb(c){if(c)cancelDefault(c);var d=hi5.$("filecontainer");X=new hi5.Lightbox(d);ta(".",X);X.show();var e=document.getElementById("__sv_folder__");if(e&&L.mkdirs)e.onclick=
function(){var a=document.getElementById("__sv_folder_name_");if(a&&a.value){L.mkdirs(a.value);ta(".",X)}};e=document.getElementById("__sv_position__");if(e)e.onclick=function(){p.writeKeyComb("Windows+R");setTimeout(function(){p.writeText(X.__position);S(true,28);S(false,28)},333);X.dismiss()}}function Za(){var c=hi5.$("svToolbar");if(!c)return;var d=c.childNodes;var e=false;var a=0;for(var b=d.length;a<b;a++)if(d[a].nodeType==1&&["svTouchInput","svCloud","svInfo"].indexOf(d[a].id)==-1){e=true;break}var h=
hi5.$("appinfo");var f=l.showToolbar&&(H||L||h||e);if(f){var v=l.toolbar===null;if(v)l.toolbar=new hi5.Toolbar(c);if(!H){var t=hi5.$("svTouchInput");if(t)t.parentNode.removeChild(t)}else l.toolbar.activeObj=J;var g=l.toolbar.getButton("svCloud");if(g)if(L){g.style.display="";g.onclick=yb}else g.style.display="none";var k=y.toolbar.fadeDelay||5E3;new hi5.Fadable(l.toolbar,k,m.getElement());var n=y.toolbar.fadable;l.toolbar.setFadable(n);if(n)l.toolbar.style.display="none";g=l.toolbar.getButton("svInfo");
if(g)if(h){g.style.display="";if(v)g.onclick=function(a){cancelDefault(a);var c=p.getAppInfo();var b=hi5.$("numericId");if(b)b.innerHTML=c.numericId;b=hi5.$("connectingTo");if(b)b.innerHTML=c.server;b=hi5.$("joinLink");if(b)b.href=b.innerHTML=c.joinLink;var d=new hi5.Lightbox(hi5.$("appinfo"));d.show();ub();d.onclose=Xa}}else g.style.display="none";if(l.onloadtoolbar)l.onloadtoolbar(l.toolbar)}}function Zb(){return m.getElement()}function zb(c){L.addFiles(c.target.files);var d=hi5.$("uploadfile");
var e=d.cloneNode(true);var a=d.parentNode;a.replaceChild(e,d);e.addEventListener("change",zb,false)}function $b(){var c=Zb();if(L&&!ha){Ja=new svGlobal.util.MapDisk(c,L);Ka=new svGlobal.util.MapDisk(hi5.$("filecontainer"),L);hi5.$("uploadfile").addEventListener("change",zb,false)}}function rb(c){if(c.target!=m.getElement())za(Ab,Bb,c.button)}function Cb(c){if(K){if(c-Db>Eb){$a();Db=c}requestAnimationFrame(Cb)}}function pc(c){c=c.replace(/<br\/?>/gi,"\r\n").replace(/(<([^>]+)>)/gi,"");return c.replace(/&[^;]+;/gi,
function(c){return ac[c]||c})}function ab(c,d,e){if(!g)return;var a=g.scrX;var b=g.scrY;var h=a+c;var f=b+d;if(h<0)h=0;else if(h>U)h=U-1;if(f<0)f=0;else if(f>R)f=R-1;g.scrX=h;g.scrY=f;g.style.left=h-g.hotX+"px";g.style.top=f-g.hotY+"px";if(N&&!e)p.sendInput("82"+h+"\t"+f)}function Aa(c,d,e){if(!g)Fa();ab(c-g.scrX,d-g.scrY,e)}function bc(){if(l.toolbar)if(l.toolbar.startFade)l.toolbar.startFade();if(J)J.focus()}function bb(c,d,e,a){var b;var h;var f;switch(c){case "touchstart":cb=false;if(g.scrX===
0&&g.scrY===0)Aa(d-50,e-50);if(a){if(l.beforemousedown)l.beforemousedown(g.scrX,g.scrY,0);p.sendInput("80"+g.scrX+"\t"+g.scrY+"\t0")}break;case "touchmove":b=d-La;h=e-ua;if(b===0&&h===0)return;f=Math.abs(Fb)<5&&Math.abs(Gb)<5&&(Math.abs(b)>7||Math.abs(h)>7);if(!f){ab(b,h);cb=true}Fb=b;Gb=h;break;case "touchend":var v=!cb&&!a;if(v){if(l.beforemousedown)l.beforemousedown(g.scrX,g.scrY,0);p.sendInput("80"+g.scrX+"\t"+g.scrY+"\t0")}if(v||a){p.sendInput("81"+g.scrX+"\t"+g.scrY+"\t0");if(l.aftermouseup)l.aftermouseup(g.scrX,
g.scrY,0)}}La=d;ua=e}function Hb(c,d){Aa(c,d);Ma(c,d,2);za(c,d,2)}function cc(c,d,e,a){var b=e-c;var h=a-d;var f=Math.max(Math.abs(h),Math.abs(b))/2|0;if(f>0){var v=b/f|0;var g=h/f|0;for(var l=0;l<f;l++){c+=v;d+=g;Na(c,d)}}if(c!=e||d!=a)Na(e,a)}function V(c){if(N&&oa)if("ontouchstart"in window)oa.handle(c);else oa.handlePointer(c)}function wb(c){if(!N)return false;aa.check(c);var d=ia.getKeyCode(c);var e=c.type=="keydown";if(e)if(m)m.setIMEStatus(d==229);if(d==18){if(Ib&&e)db=2==(c.location||c.keyLocation);
if(db)return true}if(Jb(c,d,e))return cancelDefault(c);if(d==17&&!e)Ba=false;var a=eb(d);if(a>0){n(e,a);var b=c.target==m.getElement();var h=e&&va&&m&&d==17&&(r.isFirefox||r.isSafari||Q&&!b);if(h)if(b){m.setValue("`\t`");m.select()}else{B.setValue("`\t`");B.select()}return cancelDefault(c)}if(c.ctrlKey||c.altKey&&!db||c.metaKey){var f=d==86&&(c.ctrlKey||c.metaKey)&&!(c.ctrlKey&&c.altKey)&&Z;if(!f)ba(e,d);if(e)Oa=d;if(d==17||(c.ctrlKey||c.metaKey)&&(d==86||d==67||d==88)){if(e)if(d==67||d==88)Ba=true;
return true}return c.altKey&&!c.ctrlKey||c.ctrlKey&&!c.altKey?cancelDefault(c):true}else{if(d==Oa&&!e&&!(c.ctrlKey&&c.altKey)){ba(false,d);Oa=0;return true}Oa=0;return true}}function Jb(c,d,e){if(!c.altKey)return false;switch(d){case 8:case 35:if(!c.ctrlKey&&!c.metaKey)return false;n(e,211);break;case 33:n(e,15);break;case 34:if(e){n(true,42);n(true,15)}else{n(false,15);n(false,42)}break;case 45:n(e,1);break;case 36:if(e){n(false,56);n(true,29);n(true,1)}else{n(false,1);n(false,29)}break;default:return false}return true}
function dc(c){if(!Ia)return;aa.ignoreText=true;var d=String.fromCharCode(c.charCode||c.keyCode||w.which);if(d.toUpperCase()==d.toLowerCase())return;var e=d.toUpperCase()==d;var a=c.shiftKey?!e:e;Ia=false;if(p.capsLock!=a){p.sendKeyboardSynchronize(false,p.numLock,a);if(aa.preKeyCode){S(true,14);S(false,14);var b=ia.getScancodeByKeyCode(aa.preKeyCode);S(true,b);S(false,b)}}}function ec(c){if(!N)return false;aa.check(c);var d=ia.getKeyCode(c);var e=c.type=="keydown";var a=aa.preKeyCode;if(e){if(m)m.setIMEStatus(d==
229)}else if(m&&m.isIMEMode)if(Q)if(m)m.setIMEStatus(false);if(Jb(c,d,e))return cancelDefault(c);aa.preKeyCode=d;if(d==229||a==229&&!e)return true;if(fc(d,e))return cancelDefault(c);var b=ia.getScancode(c);var h=eb(d)<1&&!c.ctrlKey&&!c.altKey&&!c.metaKey;if(!b)b=eb(d)||0;var f=d==86&&(Kb&&!e||(c.ctrlKey||c.metaKey)&&!(c.ctrlKey&&c.altKey))&&Z;if(b>0&&!f)n(e,b);else if(!f)ba(e,d);if(d!=17)Kb=f;if(d==17||(c.ctrlKey||c.metaKey)&&(d==86||d==67||d==88)){if(e){if(d==17&&va&&m){m.setValue("`\t`");m.select()}if(d==
67||d==88)Ba=true}if(d==17&&!e)Ba=false;return true}var v=d==144||d==16||Ia&&h;return v?false:cancelDefault(c)}function xb(c){if(!N)return;if(aa.ignoreText){aa.ignoreText=false;return}var d=c.data;if(!H&&Pa&&d.length==1&&d.charCodeAt(0)<128)return;if(d=="`\t`")return;var e=pa||qa;if(e)d=d.toLowerCase();if(Q)d=d.replace(/\u00a0/g," ");p.sendInput("86"+d+"\t"+(e||Pa?1:0));if(fa)fa.resetModifier()}function Lb(){n(true,29);ba(true,86);ba(false,86);n(false,29)}function gc(c){var d=c.types.length===0||
c.equals(u.clipData);var e=d?"":c.types.join(",");var a=0;var b=true;if(!d){var h=c.getData("text/html");if(h){h=h.replace(/(<([^>]+)>)|\r?\n/gi,"");if(e.indexOf("text/richtext")==-1)e+=",text/richtext"}else h=c.getData("text/plain");if(h)a=h.hashCode();p.send("880"+e+"\t"+a);u.clipData=c}if(l.onclipdata)b=!l.onclipdata(c,d);if(b)setTimeout(Lb,500)}function fc(c,d){if(c==44){n(true,128|42);n(true,128|55);return true}if(c==19)if(d){n(true,225);n(true,29);n(true,69);n(true,225);n(true,157);n(true,197);
return true}else{n(false,29);return true}return false}function S(c,d){if(l.onscancode){var e=l.onscancode(c,d);if(e){var a=0;for(var b=e.length;a<b;a++)p.sendInput("84"+(e[a].down?0:49152)+"\t"+e[a].key);return}}p.sendInput("84"+(c?0:49152)+"\t"+d)}function n(c,d){if(!N)return;switch(d){case 221:if(c){S(true,221);S(false,221);return}break;case 58:if(c){p.capsLock=!p.capsLock;if(Mb){S(true,58);S(false,58);return}}break;case 69:if(c)p.numLock=!p.numLock;break;default:if(d>70&&d<84)if(!p.numLock)p.sendKeyboardSynchronize(false,
true,p.capsLock)}if(d==184){S(c,29);S(c,56);return}var e=!c&&(r.isCrOS&&d>61&&d<69||d==58&&Mb||d==95);if(e)S(true,d);if(d!=95)S(c,d)}function ba(c,d){if(!N)return;if(d==111){if(c)p.sendInput("86/\t1");return}p.sendInput("8B"+(c?0:49152)+"\t"+d)}function Ma(c,d,e,a,b){if(!a)a=W;if(!b)b=da;if(fb[e])return;fb[e]=true;c=c/a|0;d=d/b|0;if(l.beforemousedown)l.beforemousedown(c,d,e);p.sendInput("80"+c+"\t"+d+"\t"+e)}function Sa(c){var d=c.target;q(d);if(!N)return false;if(m)m.setIMEStatus(false);if(!(c.ctrlKey||
c.shiftKey||c.metaKey||c.altKey))aa.sendMissKey();var e=Da(c);Ma(e.x,e.y,c.button);return cancelDefault(c)}function Na(c,d,e,a){if(!e)e=W;if(!a)a=da;Ab=c;Bb=d;p.sendInput("82"+c/e+"\t"+d/a)}function Ta(c){if(!N)return false;var d=c.target;var e=Da(c);if(Ca)Aa(e.x,e.y,true);Na(e.x,e.y);return cancelDefault(c)}function za(c,d,e,a,b){if(!a)a=W;if(!b)b=da;fb[e]=false;c=c/a|0;d=d/b|0;p.sendInput("81"+c+"\t"+d+"\t"+e);if(l.aftermouseup)l.aftermouseup(c,d,e);if(e==0&&Nb&&r.isChrome)u.waitForCopyContent();
Nb=e==2}function Ua(c){if(!N)return false;var d=c.target;var e=Da(c);za(e.x,e.y,c.button);return cancelDefault(c)}function Ob(c,d,e,a,b){if(!a)a=W;if(!b)b=da;p.sendInput("83"+c/a+"\t"+d/b+"\t"+e)}function Pb(c,d){if(!N)return false;Ob(d.x,d.y,c<0?1:0);return false}function eb(c){var d=hc[c];if(!d)d=-1;return d}function ic(c,d,e){var a=document.createElement("canvas");var b=a.getContext("2d");var h=b.createImageData(d,e);var f=h.data;var v=d*e;var g=window.window.devicePixelRatio||1;var l=0;var k=
0;var m=0;a.width=d;for(a.height=e;l<v;l++){m=c[l];f[k++]=m&255;f[k++]=m>>8&255;f[k++]=m>>16&255;f[k++]=m>>24&255}b.putImageData(h,0,0,0,0,d,e);if(g==1)return a.toDataURL();else{var n=document.createElement("canvas");var r=n.getContext("2d");n.width=d*g|0;n.height=e*g|0;r.scale(g,g);r.drawImage(a,0,0);return n.toDataURL()}}function jc(c){if(c.none)return"none";else if(c.system)return c.system;else if(Ca)return"none";else if(c.url)return"url("+c.url+"), pointer";else return"url("+ic(c.rawData,c.width,
c.height)+") "+c.hotX+" "+c.hotY+", default"}if(!k)k=hi5.$("remotectrl");if(window.svSurface&&svSurface.canvas==k&&svSurface.railWin){svSurface.railWin.mainWin=null;return window.svSurface}var r=hi5.browser;var H=r.isTouch;var Qa=false;var p=null;var sa=false;var W=1;var da=1;k.style.outline="none";var U=0;var R=0;var kc=0;var lc=0;var K=k.getContext("2d");var F=null;var B=null;var Qb=false;var pa=false;var qa=false;var wa=false;var tb=false;var ea=false;var L=null;var Z=true;var Ba=false;var Kb=
false;this.context=K;this.fileProgress=null;this.blurTime=0;var l=this;var N=true;var la=false;var ha=false;var Pa=false;var na=null;var Ya=null;var X=null;var g=null;var Ga=null;var oa=null;var J=null;var ma=0;var La=-1;var ua=-1;var Fb=0;var Gb=0;var cb=false;var Va=null;var Rb=document.queryCommandSupported("copy");var Ab=0;var Bb=0;var jb=false;var Ia=true;var Sb=0;var Tb=0;var Ja=null;var Ka=null;var Db=0;var $a;this._cr=[82,69,77,79,84,69,83,80,65,82,75];window.svSurface=this;var y=hi5.appcfg||
{img:{},toolbar:{fadable:true}};var Q=r.isIE;var Ca=Q;this.setConfig=function(c){y=c};this.toolbar=null;this.railWin=null;this.focused=false;this.showToolbar=true;this.canvas=k;this.alwaysPaste=false;this.mouseMoveEmu=false;if("visible"in y.toolbar)this.showToolbar=y.toolbar.visible;var Ib=false;var db=false;var Da=r.getMousePos;var Ea=r.calMousePos;this.getWindow=function(){return window};this.isClipSynced=function(c){if(!ea)return false;var d=Date.now()-l.blurTime;if(c&&d>c)return false;svGlobal.logger.info("clip synced in "+
d);return true};this.getScale=function(){return{x:W,y:da}};var ja=null;var fa=null;var gb="";var va=!r.isChromeApp&&!y.copyDialog;this.getThumbnail=function(c){c=c||64;if(!ja)ja=document.createElement("canvas");var d=Math.floor(k.height/k.width*c);if(ja.width!=c)ja.width=c;if(ja.height!=d)ja.height=d;ja.getContext("2d").drawImage(k,0,0,k.width,k.height,0,0,c,d);return ja.toDataURL()};this.initChat=function(c){var d=document.getElementById("chatWindow");hi5.Dragable(d);return new hi5.Chat(d,c)};this.equals=
function(c){return k==c.canvas};this.getFreeSpace=function(){var c=hi5.tool.getPos(k);var d=window.innerWidth-c.x;var e=window.innerHeight-c.y;return{"width":d,"height":e}};var ia=new function(){function c(a){var c=null;var d="K"+a;if(d in g)c=g[d]();if(c===null&&(a==1033||a<0||a>3758096384))c=b;return c}var d=1033;var e=r.isFirefox;var a=r.isMacOS||r.isiOS;var b=[0|0];var h=null;b[8]=14;b[9]=15;b[12]=76;b[13]=28;b[16]=42;b[17]=29;b[18]=56;b[19]=197;b[20]=58;b[27]=1;b[33]=201;b[34]=209;b[35]=207;
b[36]=199;b[37]=203;b[38]=200;b[39]=205;b[40]=208;b[44]=55;b[45]=210;b[46]=211;b[48]=11;b[49]=2;b[50]=3;b[51]=4;b[52]=5;b[53]=6;b[54]=7;b[55]=8;b[56]=9;b[57]=10;b[65]=30;b[66]=48;b[67]=46;b[68]=32;b[69]=18;b[70]=33;b[71]=34;b[72]=35;b[73]=23;b[74]=36;b[75]=37;b[76]=38;b[77]=50;b[78]=49;b[79]=24;b[80]=25;b[81]=16;b[82]=19;b[83]=31;b[84]=20;b[85]=22;b[86]=47;b[87]=17;b[88]=45;b[89]=21;b[90]=44;b[91]=219;b[92]=220;b[93]=221;b[96]=82;b[97]=79;b[98]=80;b[99]=81;b[100]=75;b[101]=76;b[102]=77;b[103]=71;
b[104]=72;b[105]=73;b[106]=55;b[107]=78;b[109]=74;b[110]=83;b[111]=181;b[112]=59;b[113]=60;b[114]=61;b[115]=62;b[116]=63;b[117]=64;b[118]=65;b[119]=66;b[120]=67;b[121]=68;b[122]=87;b[123]=88;b[144]=69;b[145]=70;b[154]=183;b[166]=59;b[167]=60;b[168]=61;b[173]=66;b[174]=67;b[175]=68;b[182]=63;b[183]=62;b[216]=64;b[217]=65;b[186]=39;b[187]=13;b[188]=51;b[189]=12;b[190]=52;b[191]=53;b[192]=41;b[219]=26;b[220]=43;b[221]=27;b[222]=40;b[224]=29;b[225]=184;var f=function(a){var c=a.keyCode;if(e){switch(c){case 173:return 189;
case 61:return 187;case 59:return 186;case 224:return 17}return c}return c};var v=a?function(a){switch(a){case 91:case 93:return 17;case 17:return 91;case 229:return 69}return 0}:null;this.setLayout=function(a){d=a;h=c(a);if(h!==null)svGlobal.logger.info("Keyboard layout: "+d)};this.getKeyCode=function(a){var c=0;if(v)c=v(a.keyCode);if(!c)c=f?f(a):a.keyCode;return c};this.getScancode=function(a){var c=ia.getKeyCode(a);return h?h[c]:0};this.getScancodeByKeyCode=function(a){return h?h[a]:0};this.getLayoutCreator=
function(){return g};var g=new function(){function a(){var c=b.slice(0);c[220]=41;c[219]=12;c[221]=13;c[186]=26;c[187]=27;c[191]=43;c[192]=39;c[189]=53;c[226]=86;if(e){c[171]=27;c[173]=53;f=function(a){var c=a.keyCode;var b=a.key;if(c===0)if(b=="\u00ba"||b=="\u00aa"&&a.shiftKey||b=="\\"&&a.ctrlKey&&a.altKey)return 220;else if(b=="\u00a1"||b=="\u00bf"&&a.shiftKey)return 221;else if(b=="\u00e7"||b=="\u00c7"&&a.shiftKey||b=="}"&&a.ctrlKey&&a.altKey)return 191;else if(b=="\u00f1"||b=="\u00d1"&&a.shiftKey)return 192;
else{if(b=="DeadAcute"||b=="\u00b4\u00b4"||b=="\u00b4"||b=="DeadUmlaut"&&a.shiftKey||b=="{"&&a.ctrlKey&&a.altKey)return 222}else if(c==192)return 186;else if(c==222)return 219;return c}}return c}function c(){var a=b.slice(0);a[220]=41;a[219]=12;a[221]=13;a[186]=26;a[187]=27;a[191]=43;a[192]=39;a[189]=53;a[226]=86;a[90]=21;a[89]=44;if(e)f=function(a){var c=a.keyCode;var b=a.key;switch(c){case 60:return 226;case 160:return 220;case 63:return 219;case 192:return 221;case 171:return 187;case 163:return 191;
case 173:return 189;case 0:if(b=="\u00f6"||b=="\u00d6"&&a.shiftKey)return 192;else if(b=="\u00e4"||b=="\u00c4"&&a.shiftKey)return 222;else if(b=="\u00fc"||b=="\u00dc"&&a.shiftKey)return 186}return c};return a}function d(){var a=b.slice(0);a[222]=41;a[219]=12;a[189]=13;a[221]=26;a[186]=27;a[77]=39;a[192]=40;a[188]=50;a[190]=51;a[191]=52;a[187]=53;a[226]=86;a[65]=16;a[90]=17;a[81]=30;a[87]=44;if(e)f=function(a){var c=a.keyCode;var b=a.key;switch(c){case 60:return 226;case 169:return 219;case 173:return 189;
case 160:return 221;case 164:return 186;case 165:return 192;case 59:return 190;case 58:return 191;case 61:return 187;case 0:if(b=="\u00b2"||b=="\u00b3"&&a.shiftKey)return 222;else if(b=="\u00b5"||b=="`\u00b5"||b=="DeadGrave"||b=="\u00a3"&&a.shiftKey)return 220;else if((b=="`"||b=="``")&&a.ctrlKey&&a.altKey)return 220}return c};return a}function h(){var a=b.slice(0);a[222]=41;a[192]=40;a[226]=86;if(e)f=function(a){var c=a.keyCode;var b=a.key;switch(c){case 0:if(b=="\u00b0"||b=="\u00ac"&&a.ctrlKey&&
a.altKey)return 222;else if(b=="\u00e7"||b=="\u00c7"&&a.shiftKey)return 221;else if(b=="\u00e0"||b=="DeadGrave"||b=="\u00c0"&&a.shiftKey)return 220;else if(b=="\u00e8"||b=="\u00c8"&&a.shiftKey)return 192;else if(b=="\u00e9"||b=="\u00c9"&&a.shiftKey)return 191;else if(b=="\u00f9"||b=="\u00d9"&&a.shiftKey)return 226;else if(b=="DeadTilde")return 221;break;case 173:return 189;case 61:return 187;case 160:return 219;case 59:return 186}return c};return a}function v(){var a=b.slice(0);a[222]=41;a[219]=12;
a[187]=13;a[221]=26;a[186]=27;a[220]=43;a[77]=39;a[192]=40;a[190]=51;a[191]=52;a[223]=53;a[226]=86;a[65]=16;a[90]=17;a[81]=30;a[87]=44;a[188]=50;if(e)f=function(a){var c=a.keyCode;var b=a.key;switch(c){case 0:if(b=="\u00b2")return 222;else if(b=="\u00e7"||b=="\u00c7"&&a.shiftKey)return 221;else if(b=="\u00e0"||b=="\u00c0"&&a.shiftKey)return 220;else if(b=="\u00e8"||b=="\u00c8"&&a.shiftKey)return 192;else if(b=="\u00e9"||b=="\u00c9"&&a.shiftKey)return 189;else if(b=="\u00f9"||b=="\u00d9"&&a.shiftKey)return 226;
else if(b=="DeadTilde")return 221;break;case 60:return 226;case 169:return 219;case 61:return 187;case 160:return 221;case 164:return 186;case 170:return 220;case 165:return 192;case 59:return 190;case 58:return 191;case 161:return 223}return c};return a}function g(){var a=b.slice(0);a[191]=41;a[219]=12;a[221]=13;a[186]=26;a[192]=27;a[223]=43;a[222]=39;a[220]=40;a[188]=51;a[190]=52;a[189]=53;a[226]=86;a[90]=21;a[89]=44;if(e)f=function(a){var c=a.keyCode;var b=a.key;switch(c){case 0:if(b=="\u00a7"||
b=="\u00b0"&&a.shiftKey)return 191;else if(b=="\u00e0"||b=="\u00e4"&&a.shiftKey||b=="{"&&a.ctrlKey&&a.altKey)return 220;else if(b=="\u00e8"||b=="\u00fc"&&a.shiftKey||b=="["&&a.ctrlKey&&a.altKey)return 186;else if(b=="\u00e9"||b=="\u00f6"&&a.shiftKey)return 222;break;case 222:return 219;case 160:return 221;case 161:return 192;case 164:return 223;case 173:return 189;case 60:return 226}return c};return a}function l(){var a=b.slice(0);a[220]=41;a[187]=12;a[219]=13;a[221]=26;a[186]=27;a[191]=43;a[192]=
39;a[222]=40;a[189]=53;a[226]=86;if(e)f=function(a){var c=a.keyCode;var b=a.key;switch(c){case 0:if(b=="\u00e5"||b=="\u00c5"&&a.shiftKey)return 221;else if(b=="\u00f8"||b=="\u00d8"&&a.shiftKey||b=="\u00f6"&&a.ctrlKey&&a.altKey)return 192;else if(b=="\u00e6"||b=="\u00c6"&&a.shiftKey||b=="\u00e4"&&a.ctrlKey&&a.altKey)return 222;break;case 172:return 220;case 171:return 187;case 220:return 219;case 160:return 186;case 222:return 191;case 173:return 189;case 60:return 226}return c};return a}function t(){var a=
b.slice(0);a[220]=41;a[187]=12;a[219]=13;a[221]=26;a[186]=27;a[191]=43;a[192]=39;a[222]=40;a[189]=53;a[226]=86;if(e)f=function(a){var c=a.keyCode;var b=a.key;switch(c){case 0:if(b=="\u00a7"||b=="\u00bd"&&a.shiftKey)return 220;else if(b=="\u00e5"||b=="\u00c5"&&a.shiftKey)return 221;else if(b=="\u00f8"||b=="\u00d8"&&a.shiftKey||b=="\u00f6"&&a.ctrlKey&&a.altKey)return 192;else if(b=="\u00e4"||b=="\u00c4"&&a.shiftKey)return 222;break;case 171:return 187;case 192:return 219;case 160:return 186;case 222:return 191;
case 173:return 189;case 60:return 226}return c};return a}this.K3758162961=function T(){var a=b.slice(0);a[244]=41;a[243]=41;a[189]=12;a[222]=13;a[220]=125;a[192]=26;a[219]=27;a[187]=39;a[186]=40;a[221]=43;a[188]=51;a[190]=52;a[191]=53;a[226]=115;a[29]=123;a[28]=121;a[240]=112;a[242]=112;if(e){a[173]=12;a[160]=13;a[64]=26;a[59]=39;a[58]=40;f=function(a){return a.keyCode==220&&a.key=="_"?226:a.keyCode}}return a};this.K1034=this.K66570=this.K2058=this.K1040=this.K66576=a;this.K2057=function ka(){var a=
b.slice(0);a[223]=41;a[222]=43;a[192]=40;a[220]=86;if(e){a[192]=41;a[173]=12;a[61]=13;a[59]=39;a[222]=40;a[163]=43}return a};this.K1031=this.K4106=this.K5130=this.K6154=this.K7178=this.K8202=this.K9226=this.K10250=this.K11274=this.K12298=this.K13322=this.K14346=this.K15370=this.K16395=this.K17418=this.K18442=this.K19466=this.K20490=this.K99997=this.K66567=this.K2952791047=c;this.K2060=this.K99998=d;this.K3084=this.K4105=h;this.K1036=v;this.K4108=this.K2055=g;this.K1044=this.K1083=l;this.K1053=t;this.K1055=
function(){var a=b.slice(0);a[220]=52;a[223]=12;a[189]=13;a[191]=51;a[188]=43;a[190]=53;a[226]=86;if(e)f=function(a){var c=a.keyCode;var b=a.key;switch(c){case 0:if(b=="\u011f"||b=="\u011e"&&a.shiftKey||a.ctrlKey&&a.altKey&&a.code=="BracketLeft")return 219;else if(b=="\u00fc"||b=="\u00dc"&&a.shiftKey||a.ctrlKey&&a.altKey&&a.code=="BracketRight")return 221;else if(b=="\u015f"||b=="\u015e"&&a.shiftKey||a.ctrlKey&&a.altKey&&a.code=="Semicolon")return 186;else if(b=="\u00f6"||b=="\u00d6"&&a.shiftKey)return 191;
else if(b=="\u00e7"||b=="\u00c7"&&a.shiftKey)return 220;break;case 73:return 222;case 60:return 226;case 173:return 189;case 170:return 223;case 162:return 192}return c};return a}}};this.getKeyboardMgr=function(){return ia};var u=new function d(){function e(a){return a.search(/<.*(font|color|img|table|style|class).*>/gmi)>-1}function a(a,b){var d=u.parseClipData(b);if(r.isEdge&&d.type!="text/plain"){m.resetCSS();m.setValue(d.value);m.select();setTimeout(function(){m.setValue("");if(B)B.setValue("");
m.restoreCSS();if(d.value.indexOf("data-sv-img")>0)hb.open(d.value,__svi18n.info.copy)},555)}else{a.clipboardData.setData(d.type,d.value);a.preventDefault()}}function b(a){return a.replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/&amp;/gi,"&").replace(/&quot;/gi,'"').replace(/&lt;/gi,"<").replace(/&gt;/gi,">")}function h(){if(u.copyContent){u.copyToClipboard(u.copyContent.type,u.copyContent.value);u.copyContent=null}u.waitingCopyContent=false}this.release=function(){u.clipData=null};this.clipData=
null;this.paste=function(a,b,d){var f=new z;var h=0;var g="";var l=null;l=window.clipboardData||b.clipboardData;var k=null;var m=l?l.getData(window.clipboardData?"Text":"text/plain"):"";if(m)f.setData("text/plain",m);else if(l){var n=l.items;if(n)for(h=0,len=n.length;h<len;h++){if(n[h].type=="image/png"){k=n[h].getAsFile();break}}else if(l.files){var p=l.files;for(h=0,len=p.length;h<len;h++)if(p[h].type.indexOf("image/png")!=-1){k=p[h];break}}}if(k){var q=new FileReader;b.preventDefault();q.onloadend=
function(b){if(b.target.readyState==FileReader.DONE){var d=hi5.Base64.enc(new Uint8Array(b.target.result));f.setData("image/png",d);a(f)}};q.readAsArrayBuffer(k)}else{if(Q&&!r.isEdge){b.preventDefault();f=u.getClipContent();a(f);return}if(m){m=l.getData("text/rtf");if(m)f.setData("text/richtext",m);g=l.getData("text/html");if(g){h=g.lastIndexOf("</html>");if(h)g=g.substring(0,h+7);f.setData("text/html",g);a(f);return}}if(F)F.disableTextInput=true;if(B)B.disableTextInput=true;b.target.innerHTML="";
var x=b.target.style.opacity;b.target.style.opacity=0;setTimeout(function(){var d=b.target.innerHTML;if(d){var h=b.target.childNodes;if(e(d))if(h.length==1&&h[0].nodeName=="IMG"&&h[0].src.indexOf("data:image/png;base64,")===0)f.setData("image/png",h[0].src.substring(22));else f.setData("text/html","<body>"+d+"</body>");else if(f.types.length===0)f.setData("text/plain",d);if(F)F.init();else b.target.innerHTML=""}a(f);b.target.style.opacity=x;if(F)F.disableTextInput=false;if(B)B.disableTextInput=false},
300)}};var f=0;this.onCopy=function(b){if(b.target!=m.getElement()||J&&b.target!=J)return;if(!N||!Z)cancelDefault(b);if(!Ba){n(true,29);var d=b.type=="copy"?"67":88;ba(true,d);ba(false,d);n(false,29)}if(Qb){var e=Date.now();var h=e-f;f=e;if(h>500)return}if(!Z||r.isChromeApp||Q&&!r.isEdge)return;gb=p.getClipData();a(b,gb);u.clipData=null;ea=true;svGlobal.logger.info("clip synced: true")};this.onPaste=function(a){if(a.target!=m.getElement()||J&&a.target!=J)return;if(!N||!Z)return cancelDefault(a);if(!l.alwaysPaste&&
ea){var b=true;if(l.onclipdata)b=!l.onclipdata(u.clipData,true);if(b)setTimeout(Lb,500);svGlobal.logger.info("Ctrl+V only");return cancelDefault(a)}ea=true;u.paste(gc,a,null);return true};this.parseClipData=function(a){var b=a.indexOf("text/plain;")===0;var d=a.indexOf("text/html;")===0;var e=d?"text/html":"text/plain";var f=b?11:d?10:0;if(f>0)a=a.substring(f);return{type:e,value:a}};this.getClipContent=function(){if(!document.queryCommandSupported("paste"))return null;var a=sb("div");a.focus();try{if(document.queryCommandEnabled("paste")){var d=
document.execCommand("paste");if(d){var e=new z;var f=a.innerHTML;e.setData("text/html","<body>"+f+"</body>");e.setData("text/plain",a.innerText||b(f));return e}}}finally{a.parentNode.removeChild(a);if(m)m.focus()}return null};this.getContent=function(){var a=u.getClipContent();if(m)m.getElement().removeEventListener("click",u.getContent);if(a&&!a.equals(u.clipData)){u.clipData=a;p.send("880text/plain,text/html\t0");return true}else return false};this.startPasteCmd=function(){if(m&&document.queryCommandSupported("paste"))m.getElement().addEventListener("click",
u.getContent)};this.waitingCopyContent=false;this.copyContent=null;this.waitForCopyContent=function(){u.waitingCopyContent=true;setTimeout(h,700)};this.copyToClipboard=function(a,b){var d=a=="text/plain"?"textarea":"div";var e=sb(d);var f=false;if(d=="div"){e.innerHTML=b;e.focus();r.selectEditable(e)}else{e.value=b;e.focus();e.select()}try{f=document.execCommand("copy",false,null)}catch(h){}finally{e.parentNode.removeChild(e);if(m)m.focus()}ea=true;if(!f){hb.open(b,__svi18n.info.copy,d);return}return f}};
var Mb=r.isMacOS||r.isiOS;var aa=new function e(){this.altUp=this.shiftUp=this.winUp=this.ctrlUp=true;this.preKeyCode=0;this.ignoreText=false;var a=this;this.sendMissKey=function(){if(!a.shiftUp){n(false,42);a.shiftUp=true}if(!a.altUp){n(false,56);n(true,56);n(false,56);a.altUp=true}if(!a.ctrlUp){n(false,29);a.ctrlUp=true}if(!a.winUp){n(false,219);a.winUp=true}};this.check=function(b){var e=ia.getKeyCode(b);var f=b.type=="keydown";switch(e){case 16:if(f&&a.shiftUp&&!b.altKey&&!b.ctrlKey&&!b.metaKey)a.sendMissKey();
a.shiftUp=!f;break;case 17:if(f&&a.ctrlUp&&!b.altKey&&!b.shiftKey)a.sendMissKey();a.ctrlUp=!f;break;case 18:if(f&&a.altUp&&!b.shiftKey&&!b.ctrlKey&&!b.metaKey)a.sendMissKey();a.altUp=!f;break;case 91:case 92:if(f&&a.winUp&&!b.shiftKey&&!b.ctrlKey&&!b.metaKey&&!b.altKey)a.sendMissKey();a.winUp=!f;break;default:if(f&&!(b.ctrlKey||b.altKey||b.shiftKey||b.metaKey))a.sendMissKey()}}};this.requestCredential=function(e,a){Qa=false;var b=__svi18n.template.login;if(!b){l.showMessage("No value for login template");
return}var h=document.createElement("div");h.className="appdlg";h.innerHTML=b;document.body.appendChild(h);var f=hi5.$("loginDomain");if(f&&e.nbDomain)f.innerHTML=e.nbDomain;var g=new hi5.Lightbox(h,.9);g.onclose=function(){document.body.removeChild(h)};g.show();f=hi5.$("loginUser");if(f)f.focus();f=hi5.$("frmLogin");if(f)f.onsubmit=function(){var b=hi5.$("loginUser").value;var e=hi5.$("loginPassword").value;var f=hi5.$("loginDomain").innerHTML;g.dismiss();setTimeout(function(){a(b,e,f)},5);return false}};
var m=null;if(H)vb();else{var ib=hi5.$("tmContainer");if(ib)ib.parentNode.removeChild(ib)}m=new kb;if(H&&r.isSafari)window.addEventListener("scroll",function(){setTimeout(function(){var e=hi5.$("pc_key");if(e)e.style.top=window.pageYOffset+"px";if(l.toolbar)l.toolbar.style.top=window.pageYOffset+"px"},200)},false);this.setCaretPos=function(e,a){kc=e;lc=a};this.showMessage=function(e,a){if(e&&y.displayMsg)hi5.notifications.notify({"msg":e,"timeout":a||0})};this.hideWhenClose="hideWhenClose"in y?y.hideWhenClose:
true;this.setReadOnly=function(e){N=!e};this.setPlayerMode=function(){ha=true;l.showToolbar=false;l.setReadOnly(true);l.hideWhenClose=false};this.setAutoScale=function(e){var a="autoScale"in y;if(a)e=y.autoScale;if(e){ya(true);lb("hidden")}else if(!a)ya(false);sa=e};if(Ca)Fa();this.setTouchpad=function(e){la=e;var a=hi5.$("touchpadMode");if(a){a.checked=e;a.onchange=function(a){la=a.target.checked}}if(e){if(!g)Fa()}else if(g&&g.parentNode){g.parentNode.removeChild(g);g=null}};this.setExtKeyboard=
function(e){if(H){jb=true;m.adjust(true);m.setContentEditable(e?"true":"false");ma=e?1:0;if(r.isChrome)m.setFontSize("2em");if(e)m.focus();var a=hi5.$("extKBD");if(a&&a.checked!=e)a.checked=e}};this.focus=function(){if(m)q(m.getElement())};this.getInputElement=function(){return m};this.scaleTo=function(e,a,b){var h=e/U;var f=a/R;if(!b){h=Math.min(h,f);f=h;W=h;da=h}else{W=h;da=f}hi5.tool.scale(k.parentNode,h,f)};this.setSize=function(e,a,b){U=e;R=a;if(!sa)lb(b);k.width=U;k.height=R;if(sa)ya(true);
if(H)vb();if(!m)m=new kb;m.adjust();if(X&&X.visible())X.dismiss()};this.reposition=function(){m.adjust()};this.setController=function(e){p=e;$a=e.draw;if(!p.sendInput)p.sendInput=p.send;if(H)r.setOrientaionHandler(function(){if(sa)ya(true);else setTimeout(function(){p.onorientationchange({svSurface:l,innerWidth:window.innerWidth,innerHeight:window.innerHeight});if(!y.disableScoll)window.scrollTo(0,0)},300)})};this.setFileHandler=function(e){if(!("FileReader"in window))e=null;if(e){if(!L&&!ha&&hi5.$("filecontainer")){L=
e;l.fileProgress=new hi5.ProgressBar(hi5.$("total"));Za();$b();var a=document.getElementById("__cancelUpload");if(a)a.addEventListener("click",function(){L.cancelAll()},false);L.addEvent("beforeupload",function(b,e){if(a)a.style.visibility="visible";l.fileProgress.style.display="block";l.fileProgress.maxValue+=b.size});L.addEvent("uploaded",function(){if(a)a.style.visibility="hidden";l.fileProgress.maxValue=0;l.fileProgress.style.display="none";l.showMessage(__svi18n.file.uploadDone,5E3);l.refreshFiles()});
L.addEvent("progress",function(a){l.fileProgress.setProgress(a)})}}else{L=null;l.fileProgress=null;if(l.toolbar)l.toolbar.removeButton("svCloud");Za()}};this.setFeature=function(e){var a;if(ha||!(e&16))l.setFileHandler(null);else if(e&128){a=hi5.$("uploadfile");if(a)a.style.visibility="hidden"}if(!(e&256)){a=hi5.$("shadowing");if(a)a.parentNode.removeChild(a)}if(!(e&1024)){a=hi5.$("ssParent");if(a)a.parentNode.removeChild(a)}};var Wa=new function(){function e(){if(h.length===0){f=false;var a=hi5.$("_sv_pdf_parent");
if(a&&a.visible&&a.visible()&&a.dismiss)a.dismiss();if(a&&a.parentNode)a.parentNode.removeChild(a)}else b()}function a(a){var b=hi5.$("_sv_pdf_parent");var f=__svi18n.info.printready||"Your document is ready.";var h=H||!!y.showPDFLink||r.isEdge;var g=h?'<p style="text-align:center;line-height:4em"><a href="'+a+'" target="_blank">'+f+"</a></p>":(r.isChromeApp?"<webview":"<iframe")+' src="'+a+'" width="100%" height="100%" id="_iFramePDF">'+(r.isChromeApp?"</webview>":"</iframe>");if(!b){b=document.createElement("div");
b.style.backgroundColor="white";b.style.width=H?"30%":"90%";b.style.height=H?"4elm":"85%";b.id="_sv_pdf_parent";b.innerHTML=g;document.body.appendChild(b);var l=new hi5.Lightbox(b);l.onclose=e;l.show()}else{var k=hi5.$("_iFramePDF");if(k)k.src=a;else b.innerHTML+=g}}function b(){var b=h.shift();if(b)a(b);f=true}var h=[];var f=false;this.clearPDF=function(){e()};this.showPDF=function(a){h.push(a);if(!f)b()}};this.close=function(){if(!p)return;N=false;Ha();Xb();if(u){u.release();u=null}if(Ka){Ka.release();
Ka=null}if(Ja){Ja.release();Ja=null}if(F){F.release();F=null}if(B){B.release();B=null}ia=null;aa=null;fa=null;ja=null;B=null;L=null;X=null,g=null,Ga=null,oa=null;p=null;l.fileProgress=null;Wa.clearPDF();if(sa)l.setAutoScale(false);if(fa)fa.setVisibility(false);if(!("clearScreen"in y)||y.clearScreen)K.fillRect(0,0,k.width,k.height);window.svSurface=null;tb=true;if(!window||ha)return;try{if(hi5.notifications.notifySize()>0){hi5.notifications.onempty=function(){l.close();hi5.notifications.onempty=null};
return}if(Qa)window.close();else{this.hide();if(r.isChromeApp){var e=chrome.app.window.current();if(e){e.onMaximized.removeListener(mb);if(e.isFullscreen()){e.restore();e.restore()}}}}}catch(a){}l.context=null;K=null;k=null;l=null};this.setFastCopy=function(e){Qb=e};this.drawLicense=function(e){if(y.drawLicense!=false){var a=e.charAt(0);K.save();K.font="12pt Arial";K.fillStyle=a=="W"?"red":"black";var b=e.substring(1);K.fillText(b,10,R-24);K.restore()}};this.drawText=function(e){var a=y.text||{};
K.save();if(a.backgroundFillStyle){var b=k.width;var h=k.height;K.fillStyle=a.backgroundFillStyle;K.fillRect(0,0,b,h)}var f=20;var g=50;if(a.textAlign=="center"){f=b/2;g=h/2}K.font=a.font||"18pt Arial";K.fillStyle=a.fillStyle||"black";if(a.textAlign)K.textAlign=a.textAlign;if(a.textBaseline)K.textBaseline=a.textBaseline;K.fillText(e,f,g);K.restore()};this.showPDF=function(e){Wa.showPDF(e)};this.hide=function(){if(l.hideWhenClose){k.height=1;k.width=1}if(m)m.hide()};var Ra=0;var Ub=false;var hb=new function(){var e=
null;var a=null;this.createDialog=function(b,h,f){var g=document.createElement("div");g.className="copyDialog";var l=document.createElement("div");l.innerHTML=h;l.className="hi5_notifer_title";g.appendChild(l);var k=document.createElement(f);if(f=="div")k.innerHTML=b;else k.value=b;k.style.border="1px solid #666";k.style.width="100%";k.style.minHeight="80px";g.appendChild(k);e=k;if(Rb){a=document.createElement("input");a.className="btnCopy";a.type="button";a.value=__svi18n.info.copylable||"Copy";
a.onclick=function(){if(f=="div")r.selectEditable(e);else e.select();document.execCommand("copy")};g.appendChild(a)}if(b.indexOf('data-sv-img="wmf"')>0){var m=b.indexOf('src="')+5;var n=b.indexOf('"',m);if(n>m&&m>0){var p=document.createElement("a");p.href=b.substring(m,n);p.target="_blank";p.innerHTML="Download image";g.appendChild(p)}}return g};this.open=function(b,h,f){function g(){var k=hb.createDialog(b,h,f);document.body.appendChild(k);var m=new hi5.Lightbox(k);m.show();if(e&&b.indexOf("<img ")!==
0)if(f=="div")r.selectEditable(e);else e.select();ub();m.onclose=function(){Xa();if(k&&k.parentNode)k.parentNode.removeChild(k);if(l.toolbar)l.toolbar.removeButton("_svClipInfo")};if(!document.queryCommandEnabled("copy"))k.removeChild(a)}if(!f)f="div";if(y.clipWarnAlways||!Ub){l.showMessage(__svi18n.info.copyWarning,5E3);Ub=true}clearTimeout(Ra);var k=l.toolbar;if(!k)return;var m=k.getButton("_svClipInfo");if(m)m.onclick=g;else{m=k.addButton(y.img.copy?y.img.copy:"copy.png",g);m.id="_svClipInfo";
m.className="pulse"}k.startFade();Ra=setTimeout(function(){l.toolbar.removeButton("_svClipInfo")},3E4)}};this.copyToClip=function(e,a){if(!Z)return;var b=u.parseClipData(e);if(u.waitingCopyContent){u.copyContent=b;return}setTimeout(function(){if(!Z||va&&gb==e||J)return;e=b.value;var a=e.indexOf("<img ")>0||y.copyDialog;if(!a||Rb)a=!u.copyToClipboard(b.type,e)},50)};this.fullScreen=function(){k.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)};fa=new function a(){function b(a){ma=Date.now();var b=
hi5.$("pc_key");if(!b)return;b.style.display="block";b.style.top=window.pageYOffset+"px";if(B){B.setValue("`\t`");B.select()}}function h(a){ma=0;var b=hi5.$("pc_key");if(!b)return;b=hi5.$("shortcuts");if(b&&b.checked)return;q.style.display="none"}function f(){if(k)if(pa)hi5.html.addClass(k,"button_selected");else hi5.html.removeClass(k,"button_selected");if(m)if(qa)hi5.html.addClass(m,"button_selected");else hi5.html.removeClass(m,"button_selected");if(p)if(wa)hi5.html.addClass(p,"button_selected");
else hi5.html.removeClass(p,"button_selected")}function g(a){cancelDefault(a);var b=a.target;var h=b.innerHTML;h=h.replace(/\u2190/g,"left").replace(/\u2191/g,"up").replace(/\u2192/g,"right").replace(/\u2193/g,"down");switch(h){case "Ctrl":if(!k)k=b;if(pa)n(false,29);else n(true,29);pa=!pa;f();return;case "Alt":if(!m)m=b;if(qa)n(false,56);else n(true,56);qa=!qa;f();return;case "Shift":if(!p)p=b;if(wa)n(false,42);else n(true,42);wa=!wa;f();return;case "...":var r=hi5.$("pc_key_more");if(r)r.style.display=
r.style.display=="block"?"none":"block";return;case "Start":h="Ctrl+Esc";default:l.writeKeyComb(h);fa.resetModifier()}}var k=null;var m=null;var p=null;this.setVisibility=function(a){if(a)b();else h()};this.resetModifier=function(){if(qa){qa=false;n(false,56)}if(pa){pa=false;n(false,29)}if(wa){wa=false;n(false,42)}f()};if(hi5.$("svTouchInput")){hi5.$("svTouchInput").addEventListener("focus",b,false);hi5.$("svTouchInput").addEventListener("blur",h,false)}var q=hi5.$("pc_key");if(!q)return;var u=q.getElementsByTagName("span");
var x=u.length;var y=r.isFirefox?"mousedown":"touchstart";if(!("ontouchstart"in window))if(navigator.pointerEnabled)y="pointerdown";else if(navigator.msPointerEnabled)y="MSPointerDown";for(var A=0;A<x;A++){var z=u[A];z.className="button";z.addEventListener(y,g,false);if(y!="mousedown")z.addEventListener("mousedown",g,false)}q.style.position="absolute"};var Vb=hi5.$("shortcuts");if(Vb)Vb.addEventListener("change",function(a){fa.setVisibility(a.target.checked)});this.setKeysVisibility=function(a){if(fa)fa.setVisibility(a)};
this.refreshFiles=function(){if(!X||!X.visible())yb(null);else ta(".",X)};this.processLink=function(a){function b(b){window.open(a);b.target.parentNode.removeChild(b.target)}clearTimeout(Ra);var h=l.toolbar;var f=h.getButton("_svLinkInfo");if(f)f.onclick=b;else{f=h.addButton(y.img.link?y.img.link:"link.png",b);f.id="_svLinkInfo";f.className="pulse"}f.title=a;h.startFade();Ra=setTimeout(function(){l.toolbar.removeButton("_svLinkInfo")},1E4)};this.setUnicode=function(a){if(!m)return;if(!a&&H&&(r.isiOS||
r.isChrome&&!r.isWindows))a=true;Pa=!a;svGlobal.logger.info("Unicode:"+a);F.onkeydown=F.onkeyup=a?wb:ec;if(!a&&p&&p.sendKeyboardSynchronize)F.onkeypress=dc;F.ontextinput=xb};this.setTouchRemoting=function(a){if(a===true){oa=new xa(l,k);svGlobal.logger.info("touch remoting");l.showMessage(__svi18n.info.touchremoting)}else oa=new ga(l)};this.setClipboard=function(a){Z=a;va=a?!r.isChromeApp&&!y.copyDialog:false};this.setJoinMode=function(a){p.setJoinMode(a)};this.requestControl=function(){p.requestControl()};
this.run=function(a){function b(a){a.target.removeEventListener("click",b,false);p.send("884")}hi5.notifications.clearAll();if((a==3758162961||a==3758162962)&&m)m.setContentEditable("false");ia.setLayout(a);var h=[99997,99998,99999].indexOf(a)!=-1;Pa=!h;Ib=(h||[1033,3758162961,3758162962,1049].indexOf(a)==-1)&&r.isMacOS;if(typeof y.closeOnDisconn=="boolean")Qa=y.closeOnDisconn;else Qa=!!window.opener&&!r.isChromeApp;if(!y.disableScoll)window.scrollTo(0,0);Za();Yb();var f=m.getElement();if(H){if(!ha){oa=
new ga(l);var g=new Y(f);g.ontouch=V;g.onmousedown=Sa;g.onmousemove=Ta;g.onmouseup=Ua;A(f,Pb,false);document.addEventListener("paste",u.onPaste,false);if(Z)if(va){document.addEventListener("copy",u.onCopy,false);document.addEventListener("cut",u.onCopy,false)}}}else{if(!ha){f.addEventListener("mousemove",Ta,false);f.addEventListener("mousedown",Sa,false);f.addEventListener("mouseup",Ua,false);A(f,Pb,false);f.addEventListener("paste",u.onPaste,false);if(Z)if(va){f.addEventListener("copy",u.onCopy,
false);f.addEventListener("cut",u.onCopy,false)}}q(f)}m.adjust();l.setUnicode(h);var n=window;try{for(;true;){n.document.addEventListener("mouseup",rb,false);if(n.parent==n)break;n=n.parent}}catch(x){}this.drawText(__svi18n.wait);if(l.onstart)l.onstart(k);f.addEventListener("click",b,false);if($a)requestAnimationFrame(Cb)};var Eb=y.animation||42;if(Q&&!r.isEdge)Eb*=3;var ac={"&euro;":"\ufffd","&nbsp;":" ","&quot;":'"',"&amp;":"&","&lt;":"<","&gt;":">","&iexcl;":"\ufffd","&cent;":"\ufffd","&pound;":"\ufffd",
"&curren;":"\ufffd","&yen;":"\ufffd","&brvbar;":"\ufffd","&sect;":"\ufffd","&uml;":"\ufffd","&copy;":"\ufffd","&ordf;":"\ufffd","&reg;":"\ufffd"};this.movCursorBy=ab;this.moveCursor=Aa;this.touchstart=function(a){switch(a.pointes){case 1:if(la){if(!g)Fa();bb("touchstart",a.screenX,a.screenY,!a.flick)}else if(!a.flick||M()){var b=m.getElement().getBoundingClientRect();var h=a.x-b.left;var f=a.y-b.top;if(l.mouseMoveEmu){cc(Sb,Tb,h,f);Sb=h;Tb=f}Ma(h,f,0)}break;case 2:La=a.screenX;ua=a.screenY}};this.touchmove=
function(a){var b=m.getElement().getBoundingClientRect();switch(a.pointes){case 1:if(la)bb("touchmove",a.screenX,a.screenY,!a.flick);else if(!a.flick||M())Na(a.x-b.left,a.y-b.top);break;case 2:if(Math.abs(a.screenY-ua)>=40){Ob(a.x-b.left,a.y-b.top,a.screenY-ua>0?0:1);La=a.screenX;ua=a.screenY}case 3:}};this.touchend=function(a){var b=a.pointes;var h=m.getElement().getBoundingClientRect();switch(b){case 1:if(la)bb("touchend",a.screenX,a.screenY,!a.flick);else{Aa(a.x,a.y,true);if(!a.flick||M())za(a.x-
h.left,a.y-h.top,0)}break;case 2:if(!a.moved)Hb(la?g.scrX:a.x-h.left,la?g.scrY:a.y-h.top);break;case 3:if(a.gesture)switch(a.gesture){case "OPEN":n(true,219);n(true,200);n(false,200);n(false,219);break;case "CLOSE":n(true,219);n(true,208);n(false,208);n(false,219);break;case "LEFT":n(true,56);n(true,1);n(false,1);n(false,56);break;case "RIGHT":n(true,42);n(true,56);n(true,1);n(false,1);n(false,56);n(false,42);break;case "UP":n(true,42);n(true,219);ba(true,77);ba(false,77);n(false,219);n(false,42);
break;case "DOWN":n(true,219);ba(true,77);ba(false,77);n(false,219)}else bc()}};this.flick=function(a){switch(a.from){case 4:p.sendInput("84"+"0\t"+209);p.sendInput("84"+"49152\t"+209);break;case 2:p.sendInput("84"+"0\t"+201);p.sendInput("84"+"49152\t"+201)}};this.longpress=function(a){if(la)a.pointes=2;var b=m.getElement().getBoundingClientRect();switch(a.pointes){case 1:Hb(a.x-b.left,a.y-b.top);break;case 2:if(g){Ma(g.scrX,g.scrY,2,1);za(g.scrX,g.scrY,2,1)}}};this.redirectTouches=function(a){if(!N)return;
var b=a.length;var h;var f="90"+b;for(var g=0;g<b;g++){h=a[g];f=f+"\t"+h.contactId+";"+h.contactFlags+";"+Math.floor(h.x/W)+";"+Math.floor(h.y/da)}p.send(f)};var Oa=0;this.setIgnorePaste=function(a){ea=a};this.processClipReq=function(a){if(!Z)return;var b=u.clipData;var h=Date.now();if(!b||!ea)b=u.getClipContent();var f=b?b.getData(a):null;if(f&&a=="text/plain"){var g=0;var l="";for(var k=f.length;g<k;g++){l=f.charAt(g);if(l!="\r"&&l!="\n")break}if(g)f=f.substring(g)}if(f){p.send("881"+a+"\t"+f);
b.sent=h;return true}else{p.send("881"+a+"\t"+"");return false}};var fb={};var Nb=false;var hc={33:201,34:209,35:207,36:199,37:203,38:200,39:205,40:208,154:183,45:210,46:211,225:184,91:219,92:220,93:221,27:1,8:14,9:15,13:28,224:29,17:29,16:42,18:56,20:58,166:59,112:59,167:60,113:60,168:61,114:61,183:62,115:62,182:63,116:63,216:64,117:64,217:65,118:65,173:66,119:66,174:67,120:67,175:68,121:68,122:87,123:88};this.writeKeyComb=function(a){p.writeKeyComb(a)};this.setCursor=function(a){if(y.disableCursor||
!a)return;Ga=a;if(g)g.setCursor(a);Ca=Q&&!a.system;if(!Ca)if(g&&g.style.left!="-90px")g.style.left="-90px";if(!ha){if(!a.result)a.result=jc(a);if(m)m.getElement().style.cursor=a.result;else k.style.cursor=a.result}};this.setVisible=function(a,b){var g=a?"visible":"hidden";if(typeof b=="number")setTimeout(function(){k.style.visibility=g},b);else k.style.visibility=g}}svGlobal.LocalInterface=LocalInterface;
svGlobal.rdpFile={loadRdpFile:function(k,O){var q=O.elements;var z=k.split("\r\n");if(z.length<2)z=k.split("\n");if(z.length<2)return false;var P=hi5.$("gateway");var A=P.value;O.reset();P.value=A;var Y=0;for(var M=z.length;Y<M;Y++){var xa=z[Y];var ga=xa.indexOf(":");var ra=xa.substring(0,ga);var x=xa.substring(ga+3);ra=ra.toLowerCase();switch(ra){case "full address":ga=x.indexOf(":");if(ga>0){q["server"].value=x.substring(0,ga);q["port"].value=x.substring(ga+1)}else q["server"].value=x;break;case "username":q["user"].value=
x;break;case "domain":q["domain"].value=x;break;case "connect to console":q["useConsole"].checked=x!="0";break;case "desktopwidth":q["width"].value=x;break;case "desktopheight":q["height"].value=x;break;case "session bpp":q["server_bpp"].value=x;break;case "audiomode":q["playSound"].value=x;break;case "alternate shell":if(x.length>0){q["command"].value=x;if(!hi5.$("app").checked)hi5.$("shell").checked=true}break;case "shell working directory":q["directory"]=x;break;case "redirectclipboard":q["mapClipboard"].checked=
x!="0";break;case "redirectprinters":q["mapPrinter"].checked=x!="0";break;case "server port":if(x.length>0)q["port"].value=x;break;case "disable wallpaper":q["background"].checked=x=="0";break;case "disable themes":q["styles"].checked=x=="0";break;case "disable menu anims":q["animation"].checked=x=="0";break;case "disable full window drag":q["contents"].checked=x=="0";break;case "allow font smoothing":q["smoothfont"].checked=x!="0";break;case "allow desktop composition":q["composition"].checked=x!=
"0";break;case "bitmapcachepersistenable":q["bitmap"].checked=x!="0";break;case "remoteapplicationprogram":q["exe"].value=x;break;case "remoteapplicationcmdline":q["args"].value=x;break;case "remoteapplicationmode":hi5.$("app").checked=x=="1";break;case "loadbalanceinfo":q["loadBalanceInfo"].value=x}}return true},handleFiles:function(k,O){if(k.length!=1){hi5.notifications.notify({"msg":"Please one file only"});return}var q=k[0];var z=q.name;var P=z.length;var A=P>4&&z.substring(P-4).toLowerCase()==
".rdp";if(!A){hi5.notifications.notify({"msg":"Sorry, Please .rdp file only"});return}var Y=new FileReader;var M=false;Y.onload=function(k){var A=k.target.result;if(!A)return;var z=svGlobal.rdpFile.loadRdpFile(A,O);if(!z&&!M){M=true;Y.readAsText(q)}};Y.readAsText(q,"UTF-16LE")}};
function initDragDrop(k,O){function q(k){svGlobal.rdpFile.handleFiles(k.target.files,O)}function z(q){cancelDefault(q);k.style.backgroundColor=Y;var A=q.dataTransfer.files;svGlobal.rdpFile.handleFiles(A,O)}function P(q){cancelDefault(q);k.style.backgroundColor="yellow"}function A(q){cancelDefault(q);k.style.backgroundColor=Y}if(!("FileReader"in window))return;var Y=k.style.backgroundColor;var M=hi5.$("rdpfile");if(M)M.addEventListener("change",q,false);k.addEventListener("dragover",P,false);k.addEventListener("dragleave",
A,false);k.addEventListener("drop",z,false)}svGlobal.util.initDragDrop=initDragDrop;
svGlobal.util.initMapDisk=svGlobal.util.MapDisk=function(k,O){function q(q){cancelDefault(q);if(k.style.opacity!="0.6")k.style.opacity="0.6";k.style.backgroundColor="yellow"}function z(q){cancelDefault(q);k.style.opacity=k.__oldOpacity;k.style.backgroundColor=k.__oldColor}function P(q){cancelDefault(q);k.style.opacity=k.__oldOpacity;k.style.backgroundColor=k.__oldColor;var z=hi5.file.getEntries(q);if(z.length){var M=new hi5.file.DirectoryReader(z);M.onfile=function(k,q){O.addFile(k,q)};M.start()}else O.addFiles(q.dataTransfer.files)}
if(!("FileReader"in window))return;k.__oldColor=k.style.backgroundColor;k.__oldOpacity=k.style.opacity;k.addEventListener("dragover",q,false);k.addEventListener("dragleave",z,false);k.addEventListener("drop",P,false);this.release=function(){k.removeEventListener("dragover",q,false);k.removeEventListener("dragleave",z,false);k.removeEventListener("drop",P,false);O=null;k=null}};
(function init(){function O(q){var z=document.getElementsByClassName("ver");var P=z.length;for(var A=0;A<P;A++)z[A].innerHTML=svGlobal.version;window.removeEventListener("load",O,false)}window.addEventListener("load",O,false)})();svGlobal.logger.info("ver:"+svGlobal.version);
